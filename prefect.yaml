deployments:
  - name: initial_scrape_dom
    entrypoint: prefect_worker_initial_scrape/initial_scrape.py:perform_initial_scrape
    schedule: null
    work_pool:
      name: initial-scrape
    parameters:
      property_type: dom
    description: Initial webscrape flow which get pass the stream of urls for more detailed \
      webscrape to other flows.
    pull:
      - prefect.deployments.steps.git_clone:
          repository: https://github.com/MHoryd/DOM_async_webscrape
          branch: main
  - name: initial_scrape_mieszkanie
    entrypoint: prefect_worker_initial_scrape/initial_scrape.py:perform_initial_scrape
    schedule: null
    work_pool:
      name: initial-scrape
    parameters:
      property_type: mieszkanie
    description: Initial webscrape flow which get pass the stream of urls for more detailed \
      webscrape to other flows.
    pull:
      - prefect.deployments.steps.git_clone:
          repository: https://github.com/MHoryd/DOM_async_webscrape
          branch: main
  - name: details_scrape
    entrypoint: prefect_worker_detailed_scrape/detailed_scrape.py:perform_scrape_of_offer_details
    schedule: null
    work_pool:
      name: detailed-scrape
    parameters: {}
    description: Flow which is scraping the details from single offer page
    concurrency_limit:
      limit: 10
      collision_strategy: ENQUEUE
    pull:
      - prefect.deployments.steps.git_clone:
          repository: https://github.com/MHoryd/DOM_async_webscrape
          branch: main
  - name: investment_scrape
    entrypoint: refect_worker_investment_scrape/investment_scrape.py:handle_url
    schedule: null
    work_pool:
      name: investment-scrape
    parameters: {}
    description: Flow which is scraping the investment offers using playwright, because http endpoint return only 6 first offers.
    concurrency_limit:
      limit: 1
      collision_strategy: ENQUEUE
    pull:
      - prefect.deployments.steps.git_clone:
          repository: https://github.com/MHoryd/DOM_async_webscrape
          branch: main